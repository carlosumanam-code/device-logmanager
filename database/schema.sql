-- PostgreSQL Schema for Device Logbook Management System\n\n-- Table for Users\nCREATE TABLE users (\n    user_id SERIAL PRIMARY KEY,\n    username VARCHAR(50) NOT NULL UNIQUE,\n    email VARCHAR(100) NOT NULL UNIQUE,\n    password_hash VARCHAR(256) NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- Table for Devices\nCREATE TABLE devices (\n    device_id SERIAL PRIMARY KEY,\n    device_name VARCHAR(100) NOT NULL,\n    user_id INT REFERENCES users(user_id) ON DELETE CASCADE,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- Table for Firmware Versions\nCREATE TABLE firmware_versions (\n    firmware_id SERIAL PRIMARY KEY,\n    device_id INT REFERENCES devices(device_id) ON DELETE CASCADE,\n    version VARCHAR(50) NOT NULL,\n    release_date DATE NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table for Logbook Entries\nCREATE TABLE log_entries (\n    log_id SERIAL PRIMARY KEY,\n    device_id INT REFERENCES devices(device_id) ON DELETE CASCADE,\n    user_id INT REFERENCES users(user_id) ON DELETE SET NULL,\n    log_message TEXT NOT NULL,\n    log_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);